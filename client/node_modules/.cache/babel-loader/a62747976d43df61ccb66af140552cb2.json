{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\benja\\\\Desktop\\\\app2000\\\\APP2000MovieSelector\\\\client\\\\src\\\\components\\\\Film\\\\MoviePref.js\",\n    _s = $RefreshSig$();\n\nimport { Col, Form, Button } from 'react-bootstrap';\nimport { useState, useRef } from 'react';\nimport Slider from '@material-ui/core/Slider';\nimport Typography from '@material-ui/core/Typography';\nimport axios from 'axios';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MoviePref = () => {\n  _s();\n\n  const [url, setUrl] = useState(`https://api.themoviedb.org/3/discover/movie\n        ?api_key=<<api_key>>\n        &language=en-US\n     \n        `);\n  const [sort, setSort] = useState('&sort_by=popularity.desc');\n  const [year, setYear] = useState(['&release_date.gte=1985', '&release_date.lte=2021']);\n  const [rating, setRating] = useState([0, 10]);\n  const [pref, setPref] = useState([]);\n  const reduxState = useSelector(state => state.auth); //hente state fra store\n  // useDispatch() for oppdatere\n\n  const onCheckedGenre = e => {\n    if (!pref.includes(e.target.value)) {\n      //hvis preferanse allerede er i state\n      setPref([...pref, e.target.value]);\n    }\n  };\n\n  const onSavePref = e => {\n    e.preventDefault();\n    const preferanse = {\n      userId: reduxState.userEmail,\n      genres: pref.map(pre => {\n        return {\n          name: `${pre}`\n        };\n      })\n    }; // console.log(axios.get('http://localhost:3000/movie_pref/6078718431f0380267753')\n    //     .then((res)=>console.log(res.status)))\n\n    axios.post('http://localhost:3000/movie_pref/add', preferanse).then(res => {\n      console.log(preferanse);\n      console.log('fra moviepref.js: ', res);\n    });\n    alert(\"Lagret\"); //window.location ='/'; //sender bruker tilbake når trykket lagre\n  };\n\n  const hent = e => {\n    console.log('bruker fra state', reduxState);\n    e.preventDefault();\n    axios.get(`http://localhost:3000/movie_pref/${reduxState.userEmail}`).then(res => {\n      document.getElementById(\"p1\").innerHTML = JSON.stringify(res.data);\n    });\n  };\n\n  const hentAlle = () => {\n    axios.get(`http://localhost:3000/movie_pref`).then(res => {\n      document.getElementById(\"p1\").innerHTML = JSON.stringify(res.data);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-2 mb-5 bg-white\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-center\",\n      children: \"Film Preferanse\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      children: [/*#__PURE__*/_jsxDEV(Form.Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Sort\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            as: \"select\",\n            defaultValue: \"Popularity Desecending\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Popularity\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Rating\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Release Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Row, {\n        className: \"m-2\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Check, {\n          type: \"checkbox\",\n          label: \"Action\",\n          value: \"Action\",\n          onChange: e => onCheckedGenre(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form.Check, {\n          type: \"checkbox\",\n          label: \"Adventure\",\n          value: \"Adventure\",\n          onChange: e => onCheckedGenre(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form.Check, {\n          type: \"checkbox\",\n          label: \"Animation\",\n          value: \"Animation\",\n          onChange: e => onCheckedGenre(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Row, {\n        className: \"m-2\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Check, {\n          type: \"checkbox\",\n          label: \"Comedy\",\n          value: \"Comedy\",\n          onChange: e => onCheckedGenre(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form.Check, {\n          type: \"checkbox\",\n          label: \"Thriller\",\n          value: \"Thriller\",\n          onChange: e => onCheckedGenre(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form.Check, {\n          type: \"checkbox\",\n          label: \"Romance\",\n          value: \"Romance\",\n          onChange: e => onCheckedGenre(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        id: \"range-year\",\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Year:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }, this), \" \", year[0], \"-\", year[1]]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Slider, {\n        style: {\n          width: 300\n        },\n        valueLabelDisplay: \"auto\",\n        \"aria-labelledby\": \"range-year\",\n        value: year,\n        min: 1985,\n        max: 2021,\n        onChange: (e, value) => setYear(value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        id: \"range-rating\",\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Rating:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }, this), \" \", rating[0], \"-\", rating[1]]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(Slider, {\n        style: {\n          width: 300\n        },\n        valueLabelDisplay: \"auto\",\n        \"aria-labelledby\": \"range-rating\",\n        value: rating,\n        min: 0,\n        max: 10,\n        onChange: (e, value) => setRating(value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 8\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: e => onSavePref(e),\n      children: \"lagre\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: e => hent(e),\n      children: \" hent\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: () => hentAlle(),\n      children: \" hent Alle\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      id: \"p1\",\n      children: \" hei\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 9\n  }, this);\n};\n\n_s(MoviePref, \"1rWzN8KzBL/zdDFoPLuOQODrrxk=\", false, function () {\n  return [useSelector];\n});\n\n_c = MoviePref;\nexport default MoviePref; //TODO FIKS FOKUS PÅ HVILKEN KNAPP, SAMT GENERALISER DE I RANGEBAR\n// const RangeBar =(props) =>{\n//     return(\n//      <div>\n//         <Typography id={props.id}>\n//             <b>{props.title}:</b>\n//         </Typography>   \n//         <Slider\n//             style={{width:300}}\n//             valueLabelDisplay=\"auto\"\n//             aria-labelledby=\"year\"\n//             value={props.value}\n//             min={props.min}\n//             max={props.max}\n//             onChange={(e)=>handleChange}\n//          />\n//     </div>\n//     )\n// }\n\nvar _c;\n\n$RefreshReg$(_c, \"MoviePref\");","map":{"version":3,"sources":["C:/Users/benja/Desktop/app2000/APP2000MovieSelector/client/src/components/Film/MoviePref.js"],"names":["Col","Form","Button","useState","useRef","Slider","Typography","axios","useSelector","useDispatch","MoviePref","url","setUrl","sort","setSort","year","setYear","rating","setRating","pref","setPref","reduxState","state","auth","onCheckedGenre","e","includes","target","value","onSavePref","preventDefault","preferanse","userId","userEmail","genres","map","pre","name","post","then","res","console","log","alert","hent","get","document","getElementById","innerHTML","JSON","stringify","data","hentAlle","width"],"mappings":"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","sourcesContent":["import {Col, Form, Button} from 'react-bootstrap';\r\nimport {useState, useRef} from 'react';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport axios from 'axios';\r\nimport {useSelector, useDispatch} from 'react-redux';\r\n\r\n\r\nconst MoviePref = () =>{\r\n\r\n    const [url, setUrl] = useState(\r\n        `https://api.themoviedb.org/3/discover/movie\r\n        ?api_key=<<api_key>>\r\n        &language=en-US\r\n     \r\n        `\r\n       \r\n        \r\n        )\r\n\r\n    const [sort, setSort] = useState('&sort_by=popularity.desc');\r\n    const [year, setYear] = useState(['&release_date.gte=1985','&release_date.lte=2021']);\r\n    const [rating, setRating] = useState([0,10]);\r\n    const [pref, setPref] = useState([]);\r\n\r\n\r\n\r\n    const reduxState = useSelector((state) => state.auth); //hente state fra store\r\n                    // useDispatch() for oppdatere\r\n \r\n\r\n   \r\n  \r\n\r\n    \r\n    const onCheckedGenre =(e) =>{\r\n        if(!pref.includes(e.target.value)) { //hvis preferanse allerede er i state\r\n            setPref([...pref, e.target.value])\r\n        }\r\n      \r\n    }\r\n\r\n    const onSavePref =(e) =>{\r\n        e.preventDefault();\r\n            const preferanse = {\r\n                userId: reduxState.userEmail,\r\n                genres: (\r\n                    pref.map(pre =>{\r\n                        return(\r\n                            {name: `${pre}`}\r\n                        )\r\n                         \r\n                    })\r\n                )    \r\n            }\r\n        // console.log(axios.get('http://localhost:3000/movie_pref/6078718431f0380267753')\r\n        //     .then((res)=>console.log(res.status)))\r\n\r\n        axios.post('http://localhost:3000/movie_pref/add', preferanse)\r\n            .then(res => {\r\n                console.log(preferanse);\r\n                console.log('fra moviepref.js: ', res)\r\n            });\r\n\r\n        alert(\"Lagret\");\r\n        //window.location ='/'; //sender bruker tilbake når trykket lagre\r\n       \r\n    }\r\n\r\n    const hent= (e) =>{\r\n        console.log('bruker fra state', reduxState)\r\n        e.preventDefault();\r\n        axios.get(`http://localhost:3000/movie_pref/${reduxState.userEmail}`)\r\n        .then(res => {\r\n            document.getElementById(\"p1\").innerHTML = JSON.stringify(res.data);\r\n        });\r\n    };\r\n\r\n    const hentAlle=() =>{\r\n        axios.get(`http://localhost:3000/movie_pref`)\r\n        .then(res => {\r\n            document.getElementById(\"p1\").innerHTML = JSON.stringify(res.data);\r\n        });\r\n         \r\n    };\r\n\r\n  \r\n   \r\n    return(\r\n        <div className=\"p-2 mb-5 bg-white\">\r\n        <h1 className=\"text-center\">Film Preferanse</h1>\r\n        <Form>\r\n        <Form.Row>\r\n        <Col>\r\n            <Form.Label>Sort</Form.Label>\r\n            <Form.Control as=\"select\" defaultValue=\"Popularity Desecending\">\r\n                <option>Popularity</option>\r\n                <option>Rating</option>\r\n                <option>Release Date</option>\r\n                <option>Title</option>\r\n            </Form.Control>\r\n        </Col>\r\n        </Form.Row>\r\n        <Form.Row className =\"m-2\">\r\n            <Form.Check type=\"checkbox\" label=\"Action\" value={\"Action\"}  onChange={(e)=>onCheckedGenre(e)}/>\r\n            <Form.Check type=\"checkbox\" label=\"Adventure\" value={\"Adventure\"}  onChange={(e)=>onCheckedGenre(e)}/>\r\n            <Form.Check type=\"checkbox\" label=\"Animation\" value={\"Animation\"}  onChange={(e)=>onCheckedGenre(e)}/>\r\n            \r\n        </Form.Row>\r\n        <Form.Row className =\"m-2\">\r\n            <Form.Check type=\"checkbox\" label=\"Comedy\" value={\"Comedy\"}  onChange={(e)=>onCheckedGenre(e)}/>  \r\n            <Form.Check type=\"checkbox\" label=\"Thriller\" value={\"Thriller\"}  onChange={(e)=>onCheckedGenre(e)}/>\r\n            <Form.Check type=\"checkbox\" label=\"Romance\" value={\"Romance\"}  onChange={(e)=>onCheckedGenre(e)}/>  \r\n        </Form.Row>\r\n        {/* <RangeBar \r\n          title=\"Year\" \r\n          id=\"year\" \r\n          min={1985} \r\n          max={2021} \r\n          ref={valgSlider} \r\n          onChange={fokus}\r\n        /> */}\r\n    \r\n        <Typography id=\"range-year\">\r\n            <b>Year:</b> {year[0]}-{year[1]}\r\n        </Typography>   \r\n       <Slider \r\n            style={{width:300}}\r\n            valueLabelDisplay=\"auto\"\r\n            aria-labelledby=\"range-year\"\r\n            value={year}\r\n            min={1985}\r\n            max={2021}\r\n            onChange={(e, value)=>setYear(value)}\r\n       />\r\n       <Typography id=\"range-rating\">\r\n            <b>Rating:</b> {rating[0]}-{rating[1]}\r\n        </Typography>   \r\n       <Slider \r\n            style={{width:300}}\r\n            valueLabelDisplay=\"auto\"\r\n            aria-labelledby=\"range-rating\"\r\n            value={rating}\r\n            min={0}\r\n            max={10}\r\n            onChange={(e, value)=>setRating(value)}\r\n       />\r\n       \r\n      </Form>\r\n            <Button onClick={(e) => onSavePref(e)}>lagre</Button>\r\n            <Button onClick={(e) => hent(e)}> hent</Button>\r\n            <Button onClick={() => hentAlle()}> hent Alle</Button>\r\n\r\n\r\n            <p id=\"p1\"> hei</p>\r\n      </div>\r\n    );\r\n};\r\nexport default MoviePref;\r\n\r\n //TODO FIKS FOKUS PÅ HVILKEN KNAPP, SAMT GENERALISER DE I RANGEBAR\r\n\r\n    // const RangeBar =(props) =>{\r\n    //     return(\r\n    //      <div>\r\n    //         <Typography id={props.id}>\r\n    //             <b>{props.title}:</b>\r\n    //         </Typography>   \r\n    //         <Slider\r\n    //             style={{width:300}}\r\n    //             valueLabelDisplay=\"auto\"\r\n    //             aria-labelledby=\"year\"\r\n    //             value={props.value}\r\n    //             min={props.min}\r\n    //             max={props.max}\r\n    //             onChange={(e)=>handleChange}\r\n    //          />\r\n    //     </div>\r\n    //     )\r\n    // }"]},"metadata":{},"sourceType":"module"}